<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<title>Doing VR for Researchers</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="css/normalize.css">
<link rel="stylesheet" href="css/skeleton.css">
<link rel="stylesheet" href="css/hljs/tomorrow.css">
<link rel="stylesheet" href="css/hljs/mono-blue.css">
<style>
/* see https://getskeleton.com/ */
/* html { font-size: 100%; } */
table { width:100%; }
img { width: 100%; max-width: 100%; }
.youtube {
 	max-width: 640px;
    overflow: hidden;
}
.youtube img {
    max-width: 320px;
}
</style>
</head>
<body>
<div class="container">
<div class="row">
<div class="full column">
<h3>Doing VR for Researchers</h3>
<div id="toc"></div>
</div>
</div>
<div class="row">
<div class="full column" id="main_body">
<script type="bogus" id="sourcetext">

[Doing VR for Researchers](http://vista.info.yorku.ca/vrworkshop)

# Lecture 4

Interactivity & data capture (Instruction HUD display between trials, pointing to indicate what has changed, recording data to disk)


## Recording data to disk

```csharp
StringBuilder sb = new StringBuilder();
List<string[]> rows = new List<string[]>();

// Then for each event:
public void logEvent(string event, int data1, float data2) {
	rows.Add(String.Format(“{1},{2},{3}”, event, data1, data2);
}

// And when complete, to save the file:
public void saveFile(string filePath) {
	for(int i = 0; i < rows.Length; i++){
		sb.AppendLine(rows[i]);
	}

	StreamWriter outStream = System.IO.File.CreateText(filePath);
	outStream.WriteLine(sb);
	outStream.Close();

	// reset:
	sb = new StringBuilder();
	rows = new List<string[]>();
}
```

</script>
</div>
</div>
</div>
<script src="js/highlight.pack.js"></script>
<script src="js/marked.js"></script>
<script>
//hljs.initHighlightingOnLoad();
//hljs.highlight

// Set default options
marked.setOptions({
	highlight: function(code, lang) {
		return hljs.highlight(lang, code).value || code;
	}
});

var renderer = new marked.Renderer();


var toc = []; // your table of contents as a list.
renderer.heading = function(text, level) {
	var slug = text.toLowerCase().replace(/[^\w]+/g, '-');
	if (level == 2) {
		toc.push("- [" + text + "](#"+slug+")");
	}
	return "<h" + level + " id=\"" + slug + "\"><a href=\"#" + slug + "\" class=\"anchor\"></a>" + text + "</h" + level + ">";
};

var convertMarkdown = function(text) {
	toc = [];
	var body = marked(text, { renderer: renderer });
	document.getElementById('toc').innerHTML = marked(toc.join("\n"));
	return body;
};

var body = document.getElementById('sourcetext').innerText;
document.getElementById('main_body').innerHTML = convertMarkdown(body);

function addyoutube(element, id) {
	// Load the image asynchronously
    var image = new Image();
	image.src = "https://img.youtube.com/vi/"+ id +"/0.jpg";
	image.addEventListener( "load", function() { element.appendChild(image); }(i));
	
   	// click to play
    element.addEventListener( "click", function() {
    	this.innerHTML = '<iframe width="640" height="360" src="https://www.youtube.com/embed/'+id+'?rel=0" frameborder="0" allowfullscreen></iframe>';
    });
}

var youtube = document.querySelectorAll( ".youtube" );
for (var i = 0; i < youtube.length; i++) addyoutube(youtube[i], youtube[i].dataset.embed);

</script>
</body>
</html>